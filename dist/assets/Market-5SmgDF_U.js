import{_ as f,T as w}from"./TopNavBar-vVXatc5F.js";import{c as o,a as k,b as r,w as c,v as x,F as i,r as d,o as u,t as T,n as y,d as O}from"./index-770rjULa.js";const v={name:"Market",components:{TopNavBar:w},data(){return{textInput:`sellprice | buyprice | maxbuy | maxsell | maxmake | name
500 | 200 | 200 | 100 | 0 | Workers
100 | 88 | 10011 | 0 | 0 | Peasants
1500 | 1250 | 2000 | 1000 | 0 | Nuclear Waste`,headers:[],rows:[],outputText:""}},mounted(){this.parseShopData(),this.updateOutputText()},watch:{textInput(){this.parseShopData(),this.updateOutputText()},rows:{deep:!0,handler(){this.updateOutputText()}}},methods:{parseShopData(){const e=this.textInput.split(`
`).filter(t=>t.trim()!=="");e.length>1?(this.headers=e[0].split("|").map(t=>t.trim()),this.rows=e.slice(1).map(t=>t.split("|").map(s=>s.trim()))):(this.headers=[],this.rows=[])},resetNumbers(){this.rows.forEach((e,t)=>{e.forEach((s,h)=>{isNaN(s)||(this.rows[t][h]=0)})}),this.updateOutputText()},updateOutputText(){const e=[this.headers,...this.rows];this.outputText=e.map(t=>t.join(" | ")).join(`
`)},updateCell(e,t,s){isNaN(s)||(s=Number(s)),this.rows[e][t]=s,this.updateOutputText()},updateCell(e,t,s){this.rows[e][t]=s,this.updateOutputText()}}},B={class:"container"},C={class:"sticky-header"},g=["onInput"],D={class:"output"},E=r("h3",null,"Output:",-1);function I(e,t,s,h,n,l){const N=O("TopNavBar");return u(),o(i,null,[k(N),r("div",B,[c(r("textarea",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.textInput=a),placeholder:"Enter text separated by |"},null,512),[[x,n.textInput]]),r("button",{onClick:t[1]||(t[1]=(...a)=>l.resetNumbers&&l.resetNumbers(...a))},"Reset Numbers"),r("table",null,[r("thead",C,[r("tr",null,[(u(!0),o(i,null,d(n.headers,(a,p)=>(u(),o("th",{key:p},T(a),1))),128))])]),r("tbody",null,[(u(!0),o(i,null,d(n.rows,(a,p)=>(u(),o("tr",{key:p,class:y({"greyed-row":p%2===0})},[(u(!0),o(i,null,d(a,(_,m)=>(u(),o("td",{key:m,contenteditable:"",onInput:b=>l.updateCell(p,m,b.target.innerText)},T(_),41,g))),128))],2))),128))])]),r("div",D,[E,c(r("textarea",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.outputText=a),readonly:""},null,512),[[x,n.outputText]])])])],64)}const M=f(v,[["render",I]]);export{M as default};
